Next state: 
chain(s) = --0-> h,n --1-> r,p --2-> l(4,4),p --3-> h,n --4-> h,p --5-> l(4,4),n --6-> h,p --7->
l(4,6)
l(4,4)
l(3,5)
l(1,6)
l(1,4)

Next state: slide(r,p) 
chain(s) = --0-> h,n --1-> l(4,4),p --2-> r,p --3-> h,n --4-> h,p --5-> l(4,4),n --6-> h,p --7->
l(4,6)
l(4,4)
l(2,5)
l(1,6)
l(1,4)

Next state: pick(4,f(h,p)) embrace(5) 
chain(s) = --0-> h,n --1-> l(4,4),p --2-> r,p --3-> h,n --4-> h,p --8-> h,n --9-> h,p --5-> l(9,9),n --6-> h,p --7->
l(9,9)
l(9,6)
l(8,8)
l(4,9)
l(4,6)
l(4,4)
l(1,9)
l(1,6)
l(1,4)

Next state: pull(l(9,9)) 
chain(s) = --0-> h,n --1-> l(4,4),p --2-> r,p --3-> h,n --4-> h,p --8-> l(10,11),n --9->.--5-> h,p --10->.--11-> h,n --6-> h,p --7->
l(10,11)
l(8,11)
l(6,6)
l(4,6)
l(4,5)
l(4,4)
l(1,6)
l(1,5)
l(1,4)

Next state: shrink 
chain(s) = --0-> h,n --1-> l(4,4),p --2-> r,p --3-> h,n --4-> h,p --8-> l(10,10),n --9-> h,p --10-> h,n --6-> h,p --7->
l(10,10)
l(8,10)
l(6,6)
l(4,9)
l(4,6)
l(4,4)
l(1,9)
l(1,6)
l(1,4)

Next state: pull(l(4,4)) 
chain(s) = --0-> h,n --1-> h,p --12->.--13-> h,n --2-> r,p --3-> l(12,13),p --4->.--8-> l(10,10),n --9-> h,p --10-> h,n --6-> h,p --7->
l(12,13)
l(12,10)
l(10,10)
l(6,6)
l(2,9)
l(2,6)
l(1,9)
l(1,6)
l(1,1)

Next state: shrink 
chain(s) = --0-> h,n --1-> h,p --12-> h,n --2-> r,p --3-> l(12,12),p --4-> l(10,10),n --9-> h,p --10-> h,n --6-> h,p --7->
l(12,12)
l(12,10)
l(10,10)
l(6,6)
l(2,9)
l(2,6)
l(1,9)
l(1,6)
l(1,1)

Next state: slide(r,p) 
chain(s) = --0-> h,n --1-> h,p --12-> h,n --2-> l(12,12),p --3-> r,p --4-> l(10,10),n --9-> h,p --10-> h,n --6-> h,p --7->
l(12,12)
l(12,10)
l(10,10)
l(6,6)
l(2,9)
l(2,6)
l(1,9)
l(1,6)
l(1,1)

Next state: slide(r,p) 
chain(s) = --0-> h,n --1-> h,p --12-> h,n --2-> l(12,12),p --3-> l(10,10),n --4-> r,p --9-> h,p --10-> h,n --6-> h,p --7->
l(12,12)
l(12,10)
l(10,10)
l(6,6)
l(2,9)
l(2,6)
l(1,9)
l(1,6)
l(1,1)

Next state: pull(l(12,12)) 
chain(s) = --0-> h,n --1-> l(14,15),p --12->.--2-> h,n --14->.--15-> h,p --3-> l(10,10),n --4-> r,p --9-> h,p --10-> h,n --6-> h,p --7->
l(14,15)
l(14,9)
l(14,6)
l(10,10)
l(6,6)
l(3,10)
l(1,15)
l(1,9)
l(1,6)

Next state: shrink 
chain(s) = --0-> h,n --1-> l(14,14),p --12-> h,n --14-> h,p --3-> l(10,10),n --4-> r,p --9-> h,p --10-> h,n --6-> h,p --7->
l(14,14)
l(14,9)
l(14,6)
l(10,10)
l(6,6)
l(3,10)
l(1,14)
l(1,9)
l(1,6)

Next state: pull(l(10,10)) 
chain(s) = --0-> h,n --1-> l(14,14),p --12-> h,n --14-> h,p --3-> h,n --16->.--17-> h,p --4-> r,p --9-> l(16,17),n --10->.--6-> h,p --7->
l(16,17)
l(16,6)
l(14,17)
l(14,14)
l(14,6)
l(3,3)
l(1,17)
l(1,14)
l(1,6)

Next state: shrink 
chain(s) = --0-> h,n --1-> l(14,14),p --12-> h,n --14-> h,p --3-> h,n --16-> h,p --4-> r,p --9-> l(16,16),n --10-> h,p --7->
l(16,16)
l(16,10)
l(14,16)
l(14,14)
l(14,10)
l(3,3)
l(1,16)
l(1,14)
l(1,10)

Next state: pull(l(3,3)) 
chain(s) = --0-> h,n --1-> l(14,16),p --12-> h,n --14->.--3->.--16-> h,p --4-> r,p --9-> l(16,10),n --10-> h,p --7->
l(14,16)
l(14,10)
l(12,9)
l(1,16)
l(1,10)

Next state: shrink 
chain(s) = --0-> h,n --1-> l(14,14),p --12-> h,n --14-> h,p --4-> r,p --9-> l(14,14),n --10-> h,p --7->
l(14,14)
l(14,10)
l(12,9)
l(1,14)
l(1,10)

Next state: slide(r,p) 
chain(s) = --0-> h,n --1-> l(14,14),p --12-> h,n --14-> h,p --4-> l(14,14),n --9-> r,p --10-> h,p --7->
l(14,14)
l(14,10)
l(12,4)
l(1,14)
l(1,10)

